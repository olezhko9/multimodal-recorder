<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>
<p></p>
<video width="100%" controls autoplay>
  <source src="/test/video/waterfall.mp4" type="video/mp4">
</video>
<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.27.2/axios.min.js"
        integrity="sha512-odNmoc1XJy5x1TMVMdC7EMs3IVdItLPlCeL5vSUPN2llYKMJ2eByTTAIiiuqLg+GdNr9hF6z81p27DArRFKT7A=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"
        integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script>
  window.addEventListener('message', function (e) {
    const data = JSON.parse(e.data);
    console.log(data)
  });

  const video = document.querySelector('video')
  video.addEventListener('timeupdate', function (event) {
    let time = video.currentTime
    $('p').html(video.currentTime)
    axios.post('http://localhost:5000/event', {
      name: 'timeupdate',
      data: {
        video_time: time,
      }
    }).then(response => {
      console.log(response.data)
    })
  })
</script>
</body>
</html>